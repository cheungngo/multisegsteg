% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tests.R
\name{make.chngpt.var}
\alias{make.chngpt.var}
\title{Create Change Point Variables in Data Frame}
\usage{
make.chngpt.var(chngpt_var, chngpt, type, data)
}
\arguments{
\item{chngpt_var}{Numeric vector representing the change point variable.}

\item{chngpt}{Numeric value specifying the threshold (change point) value.}

\item{type}{Character string specifying the type of change point model. Supported types are:
\itemize{
\item \code{"step"}: Creates a step indicator variable \code{chngpt.var}.
\item \code{"hinge"}: Creates a hinge variable \code{chngpt.var}.
\item \code{"segmented"}: Creates a segmented variable \code{chngpt.var}.
\item \code{"stegmented"}: Creates both step and segmented variables \code{chngpt.var.step} and \code{chngpt.var.seg}.
}}

\item{data}{Data frame to which the change point variables will be added.}
}
\value{
The input data frame with additional columns for the change point variables based on the specified type.
}
\description{
Modifies the input data frame by adding columns for change point variables based on the specified type.
These columns are used in the alternative model for change point analysis.
}
\details{
This function computes the change point terms for a given threshold and adds them as new columns to the data frame.
The specific columns added depend on the type:
\itemize{
\item For \code{"step"}, it adds \code{chngpt.var} as an indicator (1 if \code{chngpt_var > chngpt}, 0 otherwise).
\item For \code{"hinge"} or \code{"segmented"}, it adds \code{chngpt.var} as the hinge term \code{pmax(chngpt_var - chngpt, 0)}.
\item For \code{"stegmented"}, it adds two columns: \code{chngpt.var.step} (step indicator) and \code{chngpt.var.seg} (hinge term).
These variables align with the alternative model formula generated by \code{get.f.alt}.
}
}
\examples{
# Create a step change point variable
data <- data.frame(x = 1:10)
make.chngpt.var(chngpt_var = data$x, chngpt = 5, type = "step", data = data)
# Adds chngpt.var: c(0, 0, 0, 0, 0, 1, 1, 1, 1, 1)

# Create hinge and step variables for stegmented model
make.chngpt.var(chngpt_var = data$x, chngpt = 5, type = "stegmented", data = data)
# Adds chngpt.var.step and chngpt.var.seg

}
